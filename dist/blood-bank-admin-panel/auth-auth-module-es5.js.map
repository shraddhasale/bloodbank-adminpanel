{"version":3,"sources":["webpack:///src/app/auth/auth-routing.module.ts","webpack:///src/app/auth/auth.module.ts","webpack:///src/app/auth/register/register.component.ts","webpack:///src/app/auth/register/register.component.html","webpack:///src/app/auth/login/login.component.ts","webpack:///src/app/auth/login/login.component.html"],"names":["routes","path","redirectTo","component","AuthRoutingModule","forChild","imports","exports","AuthModule","declarations","RegisterComponent","selector","templateUrl","styleUrls","LoginComponent","_loginHttp","_router","isLoading","invalidLogin","subscriptions","username","password","add","login","pipe","subscribe","data","updateLocalStorage","err","console","log","errorMessage","error","message","localStorage","setItem","auth","user","JSON","stringify","navigate","setTimeout","unsubscribe"],"mappings":"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","file":"auth-auth-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from './login/login.component';\nimport { RegisterComponent } from './register/register.component';\n\nconst routes: Routes = [\n  { path: '', redirectTo: 'login' },\n  { path: 'login', component: LoginComponent },\n  { path: 'register', component: RegisterComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AuthRoutingModule { }\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AuthRoutingModule } from './auth-routing.module';\nimport { LoginComponent } from './login/login.component';\nimport { RegisterComponent } from './register/register.component';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [LoginComponent, RegisterComponent],\n  imports: [\n    CommonModule,\n    AuthRoutingModule,\n    FormsModule\n  ]\n})\nexport class AuthModule { }\n\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})\nexport class RegisterComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>register works!</p>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\n\n\n\nimport { take } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\nimport { UserI } from '@shared/models/user.model';\n\nimport { LoginHttpService } from './login-http.service';\n\n\nimport { LOCAL_STORAGE_KEY } from '@const/storage-key.constant';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  isLoading = false;\n  errorMessage: string;\n  invalidLogin = false;\n\n  private readonly subscriptions = new Subscription();\n\n  constructor(\n    private readonly _loginHttp: LoginHttpService,\n    private readonly _router: Router,\n    \n  ) {}\n\n  ngOnInit() {\n  }\n\n  \n  signOut(): void {\n    // this.authService.signOut();\n  }\n\n \n  onLoginClick(username: string, password: string) {\n    this.isLoading = true;\n    this.invalidLogin = false;\n    this.subscriptions.add(\n      this._loginHttp\n        .login(username, password)\n        .pipe(take(1))\n        .subscribe(\n          (data: UserI) => {\n            this.updateLocalStorage(data);\n          },\n          (err) => {\n            this.isLoading = false;\n            this.invalidLogin = true;\n            console.log(err);\n            this.errorMessage = err.error.message;\n            console.error('Login Error ==> ', err);\n          }\n        )\n    );\n  }\n\n  updateLocalStorage(data: UserI) {\n    localStorage.setItem(LOCAL_STORAGE_KEY.auth.user, JSON.stringify(data));\n    this._router.navigate(['/']);\n    setTimeout(() => {\n      this.isLoading = false;\n    }, 500);\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n\n}\n","<div class=\"login-page col-md-12 h-100\">\n    <div class=\"row justify-content-md-center h-100\">\n      <div\n        class=\"col-md-6 bg-white d-flex flex-wrap align-items-center justify-content-center h-100\"\n      >\n        <div class=\"login-container\">\n          <h1 class=\"font-weight-bold text-center font-xxxl\">\n            Welcome to <span class=\"text-primary\">BLOOD BANK</span>\n            \n          </h1>\n          <div class=\"col-md-12 px-0\">\n            <form\n              name=\"form\"\n              #f=\"ngForm\"\n              (ngSubmit)=\"\n                f.form.valid &&\n                  !isLoading &&\n                  onLoginClick(username.value, password.value)\n              \"\n            >\n              <div class=\"form-content\">\n                <div class=\"form-group\">\n                  <label>User Name</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    #username\n                    placeholder=\"Phone Number\"\n                    required\n                  />\n                </div>\n  \n                <div class=\"form-group\">\n                  <label>Password</label>\n                  <input\n                    type=\"password\"\n                    class=\"form-control\"\n                    #password\n                    placeholder=\"Password\"\n                    required\n                  />\n                </div>\n                 <div class=\"form-group text-right\">\n                    <div class=\"text-danger mt-4 text-left\" *ngIf=\"invalidLogin\">\n                        {{errorMessage }}\n                      </div>\n                  <button\n                    type=\"submit\"\n                    class=\"btn btn-sm btn-primary mt-2 py-2 px-4 color-white text-uppercase \"\n                  >\n                    Login\n                    <i\n                      class=\"spinner-border spinner-border-sm align-middle\"\n                      *ngIf=\"isLoading\"\n                    ></i>\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n          \n          \n        </div>\n      </div>\n      \n    </div>\n  </div>\n  "]}